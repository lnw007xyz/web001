<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>ข่าว - MARKMAN TRADER</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;700&display=swap" rel="stylesheet">
    <!-- Facebook SDK สำหรับฝังโพสต์เพจ -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous"
        src="https://connect.facebook.net/th_TH/sdk.js#xfbml=1&version=v19.0"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      /* Responsive 2 คอลัมน์ */
      .news-fb-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 28px;
        margin: 38px 0 0 0;
      }
      @media (max-width: 900px) {
        .news-fb-row {
          grid-template-columns: 1fr;
        }
      }
      .news-fb-col {
        background: rgba(36,59,85,0.75);
        padding: 16px 12px;
        border-radius: 12px;
        box-shadow: 0 1px 8px #0fd85025;
        min-width: 0;
      }
      .news-fb-col ul {
        margin: 12px 0 14px 0;
        padding-left: 18px;
      }
      .news-fb-col li {
        margin-bottom: 7px;
        font-size: 1em;
      }
      .news-fb-col a {
        color: #0fd850;
        text-decoration: underline;
      }
    </style>
</head>
<body class="trader-theme">
    <!-- เมนูนำทาง -->
    <nav>
        <a href="index.html">หน้าแรก</a>
        <a href="about.html">ประวัติ</a>
        <a href="portfolio.html">ผลงาน</a>
        <a href="tools.html">เครื่องมือ</a>
        <a href="info.html">ข้อมูล</a>
        <a href="contact.html">ติดต่อ</a>
        <a href="graph.html">กราฟ</a>
        <a href="news.html">ข่าว</a>
    </nav>
    <div class="header-logo">
        <img src="images/logo.png" alt="MARKMAN TRADER Logo">
        <span>MARKMAN TRADER</span>
    </div>
    <div class="container">
        <!-- Section 1: ข่าว Forex ล่าสุด -->
        <h2>ข่าว Forex ล่าสุด</h2>
        <ul id="news-list"></ul>

        <!-- Section 2: อัตราแลกเปลี่ยน -->
        <h2 style="margin-top:38px;">อัตราแลกเปลี่ยนล่าสุด</h2>
        <table style="width:100%;color:#fff;text-align:center;">
          <thead>
            <tr>
              <th>คู่เงิน</th>
              <th>ราคา</th>
            </tr>
          </thead>
          <tbody id="rate-list"></tbody>
        </table>

        <!-- Section 3: Facebook Pages Timeline (2 คอลัมน์) -->
        <h2 style="margin-top:45px;">โพสต์ล่าสุดจากเพจ Facebook (ในรอบ 1 วัน)</h2>
        <div class="news-fb-row">
            <!-- คอลัมน์ 1 เพจ Shining Gold -->
            <div class="news-fb-col">
                <div class="fb-page"
                    data-href="https://web.facebook.com/shininggold.th"
                    data-tabs="timeline"
                    data-width="500"
                    data-height="650"
                    data-small-header="false"
                    data-adapt-container-width="true"
                    data-hide-cover="false"
                    data-show-facepile="true"
                    data-hide-cta="false">
                    <blockquote cite="https://web.facebook.com/shininggold.th" class="fb-xfbml-parse-ignore">
                        <a href="https://web.facebook.com/shininggold.th">Shining Gold</a>
                    </blockquote>
                </div>
            </div>
            <!-- คอลัมน์ 2 เพจ YLGGroup -->
            <div class="news-fb-col">
                <div class="fb-page"
                    data-href="https://web.facebook.com/YLGGroup"
                    data-tabs="timeline"
                    data-width="500"
                    data-height="650"
                    data-small-header="false"
                    data-adapt-container-width="true"
                    data-hide-cover="false"
                    data-show-facepile="true"
                    data-hide-cta="false">
                    <blockquote cite="https://web.facebook.com/YLGGroup" class="fb-xfbml-parse-ignore">
                        <a href="https://web.facebook.com/YLGGroup">YLG Bullion & Futures</a>
                    </blockquote>
                </div>
            </div>
        </div>

        <!-- Section 4: ข่าววิเคราะห์/บทความจากเว็บ YLG และ Shining Gold (2 คอลัมน์) -->
        <h2 style="margin-top:45px;">วิเคราะห์ตลาดล่าสุดจาก YLG และ Shining Gold</h2>
        <div class="news-fb-row">
            <!-- คอลัมน์ YLG -->
            <div class="news-fb-col">
                <h3 style="margin-bottom:10px;">YLG: Daily Market Analysis</h3>
                <ul id="ylg-list">
                    <!-- ข่าว/บทวิเคราะห์ YLG แสดงตรงนี้ -->
                </ul>
                <a href="https://www.ylgbullion.co.th/th/updates/news-research/analyst-research/daily-market-analysis" 
                   target="_blank" style="color:#0fd850;">อ่านทั้งหมด &gt;&gt;</a>
            </div>
            <!-- คอลัมน์ Shining Gold -->
            <div class="news-fb-col">
                <h3 style="margin-bottom:10px;">Shining Gold: Investor Corner</h3>
                <ul id="shining-list">
                    <!-- ข่าว/บทวิเคราะห์ Shining Gold แสดงตรงนี้ -->
                </ul>
                <a href="https://shininggold.co.th/investor_corner/" 
                   target="_blank" style="color:#0fd850;">อ่านทั้งหมด &gt;&gt;</a>
            </div>
        </div>
    </div>
<script>
// --------- ข่าว forex (rss2json) ---------
const RSS_URL = "https://www.forexfactory.com/ffcal_week_this.xml";
fetch("https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(RSS_URL))
.then(response => response.json())
.then(data => {
  const news = data.items || [];
  let html = "";
  for(let i=0; i<Math.min(10, news.length); i++) {
    html += `<li><a href="${news[i].link}" target="_blank">${news[i].title}</a></li>`;
  }
  document.getElementById("news-list").innerHTML = html;
});

// --------- ดึงอัตราแลกเปลี่ยน Forex ---------
const pairs = [
  ["USD", "THB"],
  ["EUR", "USD"],
  ["GBP", "USD"],
  ["USD", "JPY"],
  ["AUD", "USD"]
];
pairs.forEach(pair => {
  fetch(`https://api.exchangerate.host/latest?base=${pair[0]}&symbols=${pair[1]}`)
  .then(r => r.json())
  .then(data => {
    let rate = data.rates ? data.rates[pair[1]] : "-";
    document.getElementById("rate-list").innerHTML += `<tr><td>${pair[0]}/${pair[1]}</td><td>${rate}</td></tr>`;
  });
});

// --------- ข่าววิเคราะห์ YLG (RSS Feed) ---------
fetch("https://api.rss2json.com/v1/api.json?rss_url=https://rss.app/feeds/9RHXfVR4F2qsmZmG.xml")
.then(r => r.json())
.then(data => {
    const items = data.items || [];
    let html = "";
    for (let i = 0; i < Math.min(5, items.length); i++) {
        html += `<li><a href="${items[i].link}" target="_blank">${items[i].title}</a></li>`;
    }
    document.getElementById("ylg-list").innerHTML = html || "<li>ไม่พบข้อมูล</li>";
});

// --------- ข่าววิเคราะห์ Shining Gold (RSS Feed) ---------
fetch("https://api.rss2json.com/v1/api.json?rss_url=https://rss.app/feeds/E1tFcrEbKm1v2E6I.xml")
.then(r => r.json())
.then(data => {
    const items = data.items || [];
    let html = "";
    for (let i = 0; i < Math.min(5, items.length); i++) {
        html += `<li><a href="${items[i].link}" target="_blank">${items[i].title}</a></li>`;
    }
    document.getElementById("shining-list").innerHTML = html || "<li>ไม่พบข้อมูล</li>";
});
</script>
</body>
</html>
