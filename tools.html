<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>เครื่องมือ - MARKMAN TRADER</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body class="trader-theme">
  <!-- Price Ticker Bar -->
  <div class="price-ticker-bar">
    <div class="ticker-track">
      <span class="ticker-item">EUR/USD: <b>1.0862</b> ▲</span>
      <span class="ticker-item">GBP/USD: <b>1.2745</b> ▼</span>
      <span class="ticker-item">USD/JPY: <b>161.31</b> ▲</span>
      <span class="ticker-item">XAU/USD: <b>2351.00</b> ▼</span>
      <span class="ticker-item">BTC/USD: <b>57900</b> ▲</span>
      <span class="ticker-item">ETH/USD: <b>3080</b> ▼</span>
    </div>
  </div>
  <!-- Navbar -->
  <nav>
    <div class="burger-menu" tabindex="0" aria-label="Show Menu">
      <span></span><span></span><span></span>
    </div>
    <div class="nav-underline"></div>
    <div class="nav-links">
      <a href="index.html">หน้าแรก</a>
      <a href="about.html">ประวัติ</a>
      <a href="portfolio.html">ผลงาน</a>
      <a href="tools.html" class="active">เครื่องมือ</a>
      <a href="info.html">ข้อมูล</a>
      <a href="contact.html">ติดต่อ</a>
      <a href="graph.html">กราฟ</a>
      <a href="news.html">ข่าว</a>
    </div>
  </nav>
  <!-- Logo -->
  <div class="header-logo">
    <span class="logo-bg-custom">
      <img src="images/logo.png" alt="MARKMAN TRADER Logo">
    </span>
    <span>MARKMAN TRADER</span>
  </div>
  <!-- Main Content -->
  <div class="container">
    <h2>เครื่องมือเทรดเดอร์</h2>
    <ul>
      <li>เครื่องคิดเลข Forex</li>
      <li>Pivot Point</li>
      <li>Risk Management</li>
      <li>แปลงทองคำ (ออนซ์ ⇄ บาท ⇄ เงินบาท)</li>
    </ul>
    <!-- ตัวอย่างฟอร์มคำนวณ (คุณสามารถเปลี่ยนหรือปรับได้ตามต้องการ) -->
    <div class="calc-form">
      <label for="ounce">จำนวนทองคำ (ออนซ์):</label>
      <input type="number" id="ounce" placeholder="เช่น 1.5">
      <button id="calcBtn">คำนวณ</button>
      <p id="result"></p>
    </div>
  </div>

  <audio id="nav-sound" preload="auto">
    <source src="https://cdn.pixabay.com/audio/2022/10/16/audio_12c7112c43.mp3" type="audio/mp3">
  </audio>
  <script>
(function() {
  // Navigation burger + underline effect
  const nav = document.querySelector('nav');
  const burger = nav.querySelector('.burger-menu');
  const links = [...nav.querySelectorAll('.nav-links a')];
  const underline = nav.querySelector('.nav-underline');
  let barLoop = true, loopTimer;

  function setBar(el) {
    if (!el) { underline.style.opacity = 0; return; }
    underline.style.width = el.offsetWidth + "px";
    underline.style.left = el.offsetLeft + "px";
    underline.style.opacity = 1;
  }
  function barAutoLoop() {
    if (!barLoop) return;
    let i = 0, dir = 1;
    loopTimer = setInterval(() => {
      if (!barLoop) return;
      setBar(links[i]);
      if (dir === 1 && i === links.length - 1) dir = -1;
      else if (dir === -1 && i === 0) dir = 1;
      i += dir;
    }, 1100);
  }

  burger.onclick = function() {
    nav.classList.toggle('open');
    burger.classList.toggle('open');
    document.body.onclick = e => {
      if (!nav.contains(e.target)) {
        nav.classList.remove('open');
        burger.classList.remove('open');
      }
    };
  };
  burger.onkeydown = e => { if (e.key === 'Enter' || e.key === ' ') burger.click(); };

  links.forEach(a => {
    a.classList.remove('active');
    if (window.location.pathname.endsWith(a.getAttribute('href'))) {
      a.classList.add('active');
    }
  });
  setTimeout(() => {
    setBar(nav.querySelector('.nav-links a.active') || links[0]);
    barAutoLoop();
  }, 180);

  links.forEach(link => {
    link.addEventListener('mouseenter', () => {
      clearInterval(loopTimer);
      barLoop = false;
      setBar(link);
    });
    link.addEventListener('mouseleave', () => {
      barLoop = true;
      barAutoLoop();
      setBar(nav.querySelector('.nav-links a.active') || links[0]);
    });
    link.addEventListener('focus', () => setBar(link));
    link.addEventListener('blur', () => setBar(nav.querySelector('.nav-links a.active') || links[0]));
    link.addEventListener('click', () => {
      document.getElementById('nav-sound').currentTime = 0;
      document.getElementById('nav-sound').play().catch(() => {});
    });
    ['mousedown','mouseup','mouseleave'].forEach(ev => {
      link.addEventListener(ev, () => link.style.transform = ev==='mousedown' ? 'scale(0.94)' : '');
    });
  });
})();

// Calculator for gold conversion
document.getElementById('calcBtn').addEventListener('click', () => {
  const ounce = parseFloat(document.getElementById('ounce').value) || 0;
  const gramPerOunce = 31.1035;
  const pricePerGram = 2000; // สมมติ ราคาทองบาทละ X (ปรับตามจริง)
  const grams = ounce * gramPerOunce;
  const thaiBaht = grams / 15.244; // 1 บาททอง = 15.244 กรัม
  const moneyBaht = grams * pricePerGram;
  document.getElementById('result').textContent =
    `ทอง ${ounce} ออนซ์ = ${grams.toFixed(2)} กรัม, ${thaiBaht.toFixed(2)} บาททอง, มูลค่า ${moneyBaht.toFixed(2)} บาท`;
});
  </script>
</body>
</html>
